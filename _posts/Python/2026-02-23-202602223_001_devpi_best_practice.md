---
title: "[devpi] 실무에서 devpi 서버를 빠르고 안정적으로 구축하는 방법" # 제목 (필수)
excerpt: "실무는 실전이다." # 서브 타이틀이자 meta description (필수)
date: 2026-02-23 23:55:00 +0900      # 작성일 (필수)
lastmod: 2026-02-23 23:55:00 +0900   # 최종 수정일 (필수)
last_modified_at: 2026-02-23 23:55:00 +0900   # 최종 수정일 (필수)
categories: Python       # 다수 카테고리에 포함 가능 (필수)
tags: python 파이썬 devpi server 서버 구축 안정적 실무                     # 태그 복수개 가능 (필수)
classes: wide        # wide : 넓은 레이아웃 / 빈칸 : 기본 //// wide 시에는 sticky toc 불가
toc: true        # 목차 표시 여부
toc_label:       # toc 제목
toc_sticky: true # 이동하는 목차 표시 여부 (toc:true 필요) // wide 시에는 sticky toc 불가
header: 
  image:         # 헤더 이미지 (asset내 혹은 url)
  teaser:        # 티저 이미지??
  overlay_image: /assets/images/banners/banner.gif            # 헤더 이미지 (제목과 겹치게)
  # overlay_color: '#333'            # 헤더 배경색 (제목과 겹치게) #333 : 짙은 회색 (필수)
  video:
    id:                      # 영상 ID (URL 뒷부분)
    provider:                # youtube, vimeo 등
sitemap :                    # 구글 크롤링
  changefreq : daily         # 구글 크롤링
  priority : 1.0             # 구글 크롤링
author: # 주인 외 작성자 표기 필요시
permalink: 
sidebar:
  nav: docs_python
pinned: 
---
<!--postNo: 20260223_001-->

## 실무에서 devpi 서버를 빠르고 안정적으로 구축하는 방법

### devpi 서버를 구축하는 빠르고 안정적인 방법은 뭘까?

지금까지 devpi 서버를 구축하고, export(내보내기) 및 import(불러오기) 기능까지 살펴보았다. 그렇다면, 실무에서 폐쇄망에 devpi 서버를 구축하는 가장 빠르고 안정적인 방법은 뭘까?  

내 경험을 기준으로는 아래와 같은 작업 순서가 빠르고 안정적인 devpi 서버 구축을 “그나마” 보장할 수 있다고 생각한다.  

```bash
# 순서
(1) 외부망에서 wheel 파일 생성(다운로드)
(2) wheel 파일을 폐쇄망으로 옮겨온 뒤, devpi 서버에 업로드
(3) 폐쇄망 내 사용자 PC에서 devpi 서버로에 패키지 요청

# 도식
[외부망 PC]
  └─ wheel 생성(다운로드) (모든 dependency 포함)
         ↓ (파일 이동)
[폐쇄망 devpi 서버]
  ├─ devpi 서버 생성 (최초에만)
  └─ wheel 업로드
         ↓
[폐쇄망 사용자 PC]
  └─ pip install (내부 서버만 사용)
```

이렇게 생각하는 이유는 다음과 같다.  

- (1) 이미 빌드된 wheel 패키지

devpi-export, import 를 수행하면, 이미 검증된 devpi 상태를 그대로 떠올 수 있으므로 좋을 것만 같다. 하지만, export 된 데이터에는 빌드가 필요한 의존성 패키지가 포함될 수도 있다. 이게 왜 문제냐면.. 패키지를 빌드하는 작업은 OS 플랫폼과 여러 환경에 따라 달라진다는 점 때문이다. 반면, wheel 파일로 패키지를 다운로드 하면, 이미 패키지가 빌드가 완료된 상태이므로 추가적인 빌드를 고민하지 않아도 된다.  

- (2) 패키지 추가 파이프라인

devpi 서버를 어떻게든 구축했다고 가정해보자. 이 때, 추가로 필요한 패키지가 생겼을 때, 어떻게 추가하는 게 가장 효율적일까? 바로 wheel 파일로 패키지를 다운로드 받은 뒤, devpi 서버로 업로드하는 방식이 가장 효율적이다. 추가 패키지 하나때문에 export → import 를 다시 수행하는 것은 불필요하고 비효율적이다. 어짜피 devpi 서버 구축 파이프라인을 구성할거면, 초기 세팅과 패키지 추가 모두 같은 결의 파이프라인을 가지게 하는 것이 정신건강에도, 관리 측면으로도 좋을 것이다.  

- (3) 재현 가능성

wheel 파일로 패키지를 다운로드 할 때에는 `pip download` 명령어를 사용한다. 이 명령어를 사용하면, 정확하게 내가 원하는 OS 플랫폼과 파이썬 버전에 맞는 패키지를 다운로드 받을 수 있다. 이는, 작업을 동일하게 수행할 수 있는 재현 가능성을 보장하는 장점이 될 수 있다.  

물론, 이 방법으로 devpi 서버를 구축한다 해도 문제가 발생할 수 있다. 대표적인 문제가 바로 의존성이 깨지는 것이다. 특히나 ipykernel 을 wheel 파일로 다운로드 받아 devpi 서버로 올리는 작업 중에는.. 여러 번의 의존성 불일치 문제가 발생할 수도 있다. 하지만 `pip download` 를 통해서 하나하나씩 깨진 의존성을 채워나가면, 생각보다 쉽게 문제를 해결할 수 있으니 포기하지 말자.  

> 물론 이는 부족한 내 경험에 비춰 생각한 바이므로, 훨씬 더 효율적이고 체계적인 방법이 분명 존재할 것이다.
> 

## 구축해보기

### (1) 외부망에서 패키지 준비

- 인터넷 연결이 되는 외부망에서 패키지를 다운로드 받는다.
- wheel 파일로 다운로드 받는 것을 권장한다.
- 또한, 필요 패키지를 파일로 명시하고 저장해두는 것을 권장한다.

```
# requirements.txt

# 안정성을 위해 미리 다운로드 하는 것을 권장
setuptools<82 # pkg_resources 모듈 의존성 해결
setuptools<81
setuptools<80
appnope # ipykernel 설치시 MAC 용 빌드도구 필요 (윈도우든 리눅스든 일단 다운로드하는 것을 권장)
appnope >=0.1.2 

# 필요한 패키지 정의
ydata-profiling
pandas
numpy
matplotlib
ipython
ipykernel
```
