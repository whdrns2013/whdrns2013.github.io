---
title: devpi - íì‡„ë§ì—ì„œ ì‚¬ì„¤ PyPI ì„œë²„ êµ¬ì¶•í•˜ê¸° # ì œëª© (í•„ìˆ˜)
excerpt: # ì„œë¸Œ íƒ€ì´í‹€ì´ì meta description (í•„ìˆ˜)
date: 2026-01-22 23:40:00 +0900      # ì‘ì„±ì¼ (í•„ìˆ˜)
lastmod: 2026-01-22 23:40:00 +0900   # ìµœì¢… ìˆ˜ì •ì¼ (í•„ìˆ˜)
last_modified_at: 2026-01-22 23:40:00 +0900   # ìµœì¢… ìˆ˜ì •ì¼ (í•„ìˆ˜)
categories: Python       # ë‹¤ìˆ˜ ì¹´í…Œê³ ë¦¬ì— í¬í•¨ ê°€ëŠ¥ (í•„ìˆ˜)
tags: python íŒŒì´ì¬ íŒ¨í‚¤ì§€ ì„œë²„ package server ìºì‹± caching ì¸ë±ìŠ¤ index                      # íƒœê·¸ ë³µìˆ˜ê°œ ê°€ëŠ¥ (í•„ìˆ˜)
classes: wide        # wide : ë„“ì€ ë ˆì´ì•„ì›ƒ / ë¹ˆì¹¸ : ê¸°ë³¸ //// wide ì‹œì—ëŠ” sticky toc ë¶ˆê°€
toc: true        # ëª©ì°¨ í‘œì‹œ ì—¬ë¶€
toc_label:       # toc ì œëª©
toc_sticky: true # ì´ë™í•˜ëŠ” ëª©ì°¨ í‘œì‹œ ì—¬ë¶€ (toc:true í•„ìš”) // wide ì‹œì—ëŠ” sticky toc ë¶ˆê°€
header: 
  image:         # í—¤ë” ì´ë¯¸ì§€ (assetë‚´ í˜¹ì€ url)
  teaser:        # í‹°ì € ì´ë¯¸ì§€??
  overlay_image: /assets/images/banners/banner.gif            # í—¤ë” ì´ë¯¸ì§€ (ì œëª©ê³¼ ê²¹ì¹˜ê²Œ)
  # overlay_color: '#333'            # í—¤ë” ë°°ê²½ìƒ‰ (ì œëª©ê³¼ ê²¹ì¹˜ê²Œ) #333 : ì§™ì€ íšŒìƒ‰ (í•„ìˆ˜)
  video:
    id:                      # ì˜ìƒ ID (URL ë’·ë¶€ë¶„)
    provider:                # youtube, vimeo ë“±
sitemap :                    # êµ¬ê¸€ í¬ë¡¤ë§
  changefreq : daily         # êµ¬ê¸€ í¬ë¡¤ë§
  priority : 1.0             # êµ¬ê¸€ í¬ë¡¤ë§
author: # ì£¼ì¸ ì™¸ ì‘ì„±ì í‘œê¸° í•„ìš”ì‹œ
permalink: 
sidebar:
  nav: 
pinned: 
---
<!--postNo: 20250122_001-->

![](/assets/images/20260122_001_004.png)

## Intro

í”„ë¡œì íŠ¸, íŠ¹íˆ ë³´ì•ˆì´ ì¤‘ìš”í•œ ê¸°ì—…ì´ë‚˜ ê³µê³µê¸°ê´€ì˜ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‹¤ ë³´ë©´ ì™¸ë¶€ì˜ ì¸í„°ë„·ê³¼ ê²©ë¦¬ëœ íì‡„ë§ì¸ ê²½ìš°ë“¤ì´ ë§ì´ ìˆë‹¤. ì´ëŸ° ê²½ìš°ì—” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” ê²½ë¡œê°€ ì œí•œëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ íŒŒì´ì¬ì€ PyPI ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ë¯¸ë¦¬  Anaconda í™˜ê²½ì„ êµ¬ì„±í•´ê°€ê¸°ë„ í•œë‹¤.  

í•˜ì§€ë§Œ ë°ìŠ¤í¬íƒ‘ì´ ì•„ë‹Œ ë…¸íŠ¸ë¶ í™˜ê²½ì´ë¼ë©´, Anacondaì˜ í° ìš©ëŸ‰ì€ ì ì§€ ì•Šì€ ë¶€ë‹´ì´ ëœë‹¤. ë˜í•œ ë‚´ê²Œ ìˆëŠ” íŒ¨í‚¤ì§€ë¥¼ ë™ë£Œ ê°œë°œìì—ê²Œ ê³µìœ í•˜ëŠ” ê²ƒë„ ë²ˆê±°ë¡œìš´ ì¼ì´ ëœë‹¤.  

ì˜¤ëŠ˜ ì†Œê°œí•  **devpi ëŠ” ì‚¬ì„¤ PyPI ì„œë²„ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬**ì´ë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì‚¬ì„¤ PyPI ì„œë²„ë¥¼ êµ¬ì¶•í•œ ë’¤, íì‡„ë§ í™˜ê²½ì— ë„ì…í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë˜ëŠ”, ë‚´ë¶€ íì‡„ë§ê³¼ ì™¸ë¶€ ì¸í„°ë„·ì„ ì—°ê²°í•˜ëŠ” DMZ ì— PyPI ì„œë²„ë¥¼ êµ¬ì¶•í•  ìˆ˜ë„ ìˆë‹¤.  

## devpi

### ê°œë…

- Python íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ì„¤ PyPI ì„œë²„
- ê·¸ë¦¬ê³  ì´ë¥¼ ì´ìš©í•´ íŒ¨í‚¤ì§•, í…ŒìŠ¤íŠ¸ ë° ë¦´ë¦¬ì¦ˆ ì‘ì–¼ì„ ìˆ˜í–‰í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬
- MIT ë¼ì´ì„ ìŠ¤

### ì£¼ìš” ê¸°ëŠ¥

#### ë¹ ë¥¸ PyPI ë¯¸ëŸ¬  

ì–´ë–¤ ê°œë°œìê°€ íŠ¹ì • íŒ¨í‚¤ì§€ë¥¼ devpi-serverë¥¼ í†µí•´ ìµœì´ˆë¡œ ì„¤ì¹˜í•  ë•Œ devpi ëŠ” ì´ íŒ¨í‚¤ì§€ë¥¼ ê³µì‹ PyPI ì„œë²„ë¡œë¶€í„° ë°›ì•„ **ë¡œì»¬ì— ìºì‹œ**í•´ë‘”ë‹¤. ì´í›„ ë‹¤ë¥¸ ëˆ„êµ°ê°€ë¡œë¶€í„° ë™ì¼í•œ íŒ¨í‚¤ì§€ë¥¼ ìš”ì²­ë°›ëŠ” ê²½ìš°, devpi-serverëŠ” ìºì‹œëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•œë‹¤.  

#### ê°œì¸ì´ ìƒì„±í•œ ì¸ë±ìŠ¤ë¥¼ ì—…ë¡œë“œ, í…ŒìŠ¤íŠ¸, ìŠ¤í…Œì´ì§• ê°€ëŠ¥  

devpi-serverëŠ” ê°œë°œìê°€ ë§Œë“  **PyPI íŒ¨í‚¤ì§€ë¥¼ ì˜¬ë¦´ ìˆ˜ ìˆëŠ” ì €ì¥ ê³µê°„ì„ ì œê³µ**í•œë‹¤. devpi ëŠ” ê°œë°œìê°€ ë§Œë“¤ì–´ ë“±ë¡í•œ íŒ¨í‚¤ì§€ë¥¼ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³ , í†µê³¼í•œ ê²ƒë§Œ ë°°í¬ìš© ì €ì¥ì†Œë¡œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤.  

#### ì¸ë±ìŠ¤ ìƒì†  

ì¸ë±ìŠ¤ ê°„ ìƒì†ì„ í†µí•´ ê°œë°œ ë° ìš´ì˜ í™˜ê²½ì„ ë¶„ë¦¬í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ PyPI ì¸ë±ìŠ¤ì— ì•…ì„± ë¦´ë¦¬ì¦ˆë¥¼ ì—…ë¡œë“œí•˜ëŠ” ê³µê²©ìë¡œë¶€í„° ì•ˆì „í•˜ê²Œ ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.   

```bash
root/pypi          â† ê³µì‹ PyPI ìºì‹œ
team/dev           â† ê°œë°œìš© ì¸ë±ìŠ¤
team/staging       â† ê²€ì¦ìš© ì¸ë±ìŠ¤
team/prod          â† ìš´ì˜ìš© ì¸ë±ìŠ¤
```

- `team/dev` : ê°œë°œìê°€ ììœ ë¡­ê²Œ íŒ¨í‚¤ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŒ. `root/pypi`ë¥¼ ìƒì†í•œë‹¤.
- `team/prod`: ê²€ì¦ëœ íŒ¨í‚¤ì§€ë§Œ ì¡´ì¬í•˜ëŠ” ê³µê°„
- ì¸ë±ìŠ¤ëŠ” ë¶€ëª¨ ì¸ë±ìŠ¤ì˜ íŒ¨í‚¤ì§€ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë¶€ëª¨ ì¸ë±ìŠ¤ì™€ ìì‹ ì¸ë±ìŠ¤ì—ì„œ ê°™ì€ íŒ¨í‚¤ì§€ê°€ ì¡´ì¬í•  ê²½ìš° **ìì‹ ì¸ë±ìŠ¤ê°€ ìš°ì„ **ëœë‹¤.

#### ì›¹ ì¸í„°í˜ì´ìŠ¤  

ì›¹ ì¸í„°í˜ì´ìŠ¤ì™€ ê²€ìƒ‰ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ë©´, ì›¹ í™”ë©´ì—ì„œ íŒ¨í‚¤ì§€, ë²„ì „, ë¬¸ì„œë¥¼ íƒìƒ‰í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.   

![](/assets/images/20260122_001_001.png)  

#### ë³µì œ replication  

ì£¼ devpi ì„œë²„ë¥¼ **ì‹¤ì‹œê°„ìœ¼ë¡œ ë³µì œí•˜ëŠ” ë³´ì¡° devpi ì„œë²„**ë¥¼ ë‘˜ ìˆ˜ ìˆë‹¤. ì´ëŠ” ì£¼ ì„œë²„ê°€ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ ë³´ì¡°í•˜ëŠ” **"ì¥ì•  ëŒ€ì‘"ì˜ ì—­í• **ë„ í•˜ë©°, ê³µì‹ PyPI ì„œë²„ì— ë¹„í•´ ë¬¼ë¦¬ì ì¸ ê±°ë¦¬ê°€ ê°€ê¹Œìš´ ê²½ìš°, **"ì†ë„ ê°œì„ "ì˜ íš¨ê³¼**ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.  

```bash
        [ Primary devpi ]
               |
     -------------------------
     |           |           |
[ Replica A ] [ Replica B ] [ Replica C ]

```

- Primary: ì—…ë¡œë“œÂ·ê´€ë¦¬ ë‹´ë‹¹
- Replica: ì½ê¸° ì „ìš©(ë³´í†µ), ë™ê¸°í™”ëœ ë°ì´í„° ì œê³µ

#### ë‚´ë³´ë‚´ê¸°ì™€ ê°€ì ¸ì˜¤ê¸° Exporting Importing  

ê¸°ì¡´ devpi ì„œë²„ì˜ ëª¨ë“  ì„¤ì •ê³¼ íŒ¨í‚¤ì§€ë¥¼ íŒŒì¼ë¡œ ë°±ì—…í•œ ë’¤, ìƒˆ devpi ì„œë²„ì—ì„œ ê·¸ëŒ€ë¡œ ë³µì›í•  ìˆ˜ ìˆë‹¤

#### Jenkins  ì—°ë™  

Jenkins ì™€ ì—°ë™í•˜ì—¬, íŒ¨í‚¤ì§€ ì—…ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ì— ì—°ë™í•  ìˆ˜ ìˆë‹¤. (CI)  

### ì¸ë±ìŠ¤

devpi, ê·¸ë¦¬ê³  PyPI ì„œë²„ì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ì¸ë±ìŠ¤(Index) ê°œë…ì„ ë¨¼ì € ì´í•´í•´ì•¼ í•œë‹¤.  

ì¦‰, ì¸ë±ìŠ¤ë€ **â€œíŒ¨í‚¤ì§€ë¥¼ ë‹´ëŠ” ë…¼ë¦¬ì ì¸ ì €ì¥ì†Œ ë‹¨ìœ„â€**ë¡œ, ì—¬ëŸ¬ ê°œì˜ Python íŒ¨í‚¤ì§€ì™€ ê·¸ ë²„ì „ë“¤ì„ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ê´€ë¦¬í•˜ëŠ” ê³µê°„ì´ë‹¤.  

ì—¬ê¸°ì„œ ë§í•˜ëŠ” ì €ì¥ì†ŒëŠ” ì‹¤ì œ ë””ë ‰í„°ë¦¬ë‚˜ ë¬¼ë¦¬ì ì¸ íŒŒì¼ ìœ„ì¹˜ë¼ê¸°ë³´ë‹¤ëŠ”,
ì–´ë–¤ íŒ¨í‚¤ì§€ë¥¼ ì–´ë””ì—ì„œ ì–´ë–»ê²Œ ë³´ì´ê²Œ í•  ê²ƒì¸ê°€ë¥¼ ì •ì˜í•˜ëŠ” ë…¼ë¦¬ì  êµ¬íšì— ê°€ê¹ë‹¤.  

ì¸ë±ìŠ¤ëŠ” devpiì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„ì´ë©°, ëª¨ë“  íŒ¨í‚¤ì§€ì˜ ì¡°íšŒÂ·ì„¤ì¹˜Â·ì—…ë¡œë“œëŠ” íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.  

### devpi server ì˜ ì‘ë™ ì›ë¦¬ ë„ì‹

![](/assets/images/20260122_001_002.png)  

(1) ì–´ë–¤ User ê°€ devpi-server ë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜(pip install)ë¥¼ ìš”ì²­í•œë‹¤.  

(2) devpi ì„œë²„ëŠ” ìš”ì²­ë°›ì€ íŒ¨í‚¤ì§€ë¥¼ ìì‹ ì´ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ì—†ë‹¤ë©´ ê³µì‹ PyPI ì„œë²„ë¡œë¶€í„° ë°›ì•„ì˜¨ë‹¤.  

(3) ê³µì‹ PyPI ì„œë²„ë¡œë¶€í„° ë°›ì•„ì˜¨ íŒ¨í‚¤ì§€ëŠ” ìºì‹œí•˜ì—¬ ë³´ê´€í•´ë‘”ë‹¤.  

(4) ìš”ì²­ User ì—ê²Œ íŒ¨í‚¤ì§€ë¥¼ ì „ë‹¬í•œë‹¤.  

(5) ë‹¤ë¥¸ User ë¡œë¶€í„° ë™ì¼í•œ íŒ¨í‚¤ì§€ë¥¼ ìš”ì²­ë°›ëŠ”ë‹¤ë©´  

(6) devpi ì„œë²„ëŠ” ìš”ì²­ë°›ì€ íŒ¨í‚¤ì§€ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³   

(7) ê°€ì§€ê³  ìˆì„ ê²½ìš°(=ìš”ì²­ë°›ì€ íŒ¨í‚¤ì§€ê°€ ìºì‹œë˜ì–´ ìˆëŠ” ê²½ìš°), ê·¸ íŒ¨í‚¤ì§€ë¥¼ ìš”ì²­ìì—ê²Œ ì œê³µí•œë‹¤.  

## devpi ì„œë²„ êµ¬ì¶•í•˜ê¸°

### 1. ì„¤ì¹˜

- devpi-server íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install devpi-server
pip install devpi-client # client, í•„ìš”ì‹œ
pip install devpi-web    # web ui, í•„ìš”ì‹œ
```

### 2. devpi-server ì´ˆê¸°í™” (devpi-init)

- devpi-server ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì´ˆê¸°í™” ì‘ì—…ì„ í•´ì¤˜ì•¼ í•œë‹¤.

```bash
devpi-init [--serverdir /ë ˆì§€ìŠ¤íŠ¸ë¦¬/ê²½ë¡œ]
# ê²½ë¡œë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ìì‹ ì˜ home ì•„ë˜ì— ìƒì„±ëœë‹¤.
```

- devpi init ê²°ê³¼ë¡œ ìƒê¸´ ë””ë ‰í„°ë¦¬

```bash
./
â”œâ”€â”€ .nodeinfo
â”œâ”€â”€ .serverversion
â””â”€â”€ .sqlite
```

### 3. devpi-server êµ¬ë™

- devpi ì„œë²„ êµ¬ë™

```bash
devpi-server --host=0.0.0.0 --port 3141 --serverdir /ë ˆì§€ìŠ¤íŠ¸ë¦¬/ê²½ë¡œ
# ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ì‹œí‚¤ë ¤ë©´ nohup
```

- ì„œë²„ê°€ ì˜ ë„ì›Œì¡ŒëŠ”ì§€ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì ‘ì†í•´ë³´ì (`http://{HOST}:{PORT}`)

![](/assets/images/20260122_001_003.png)  

> ìœ„ ìº¡ì³ì—ì„œ ëˆˆì—¬ê²¨ë´ì•¼ í•  ì ì´ ì„¸ êµ°ë° ìˆë‹¤.  
> ì²« ë²ˆì§¸ëŠ” `username` : ìœ„ ìº¡ì³ì—ì„œ â€œusernameâ€: â€œrootâ€ ë¶€ë¶„   
> ë‘ ë²ˆì§¸ëŠ” `indexes` : ìœ„ ì¼‘ì³ì—ì„œ â€œindexexâ€: {â€pypiâ€ â€¦} ë¶€ë¶„  
> ì„¸ ë²ˆì§¸ëŠ” `mirror_url` :  â€œmirror_urlâ€: â€œhttps://pypi.org/simple/â€™ ë¶€ë¶„  
> `username` ê³¼ `index` ë¥¼ ë¶™ì—¬ PyPI ì„œë²„ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” URL ì´ ë§Œë“¤ì–´ì§€ë¯€ë¡œ í•„ìˆ˜ë¡œ í™•ì¸!


### (ì°¸ê³ ) ë„ì»¤ ë° ë„ì»¤ ì»´í¬ì¦ˆë¡œ devpi-server ì‹¤í–‰

- Dockerfile

```bash
# Dockerfile.devpi
FROM python:3.14-slim

WORKDIR /devpi

RUN pip install devpi-server devpi-client devpi-web
```

- docker-compose.yml

```bash
# docker-compose.devpi.yml
services:
  devpi_server:
    build:
      context: .
      dockerfile: Dockerfile.devpi
    image: devpi:latest
    container_name: devpi_server
    restart: unless-stopped
    ports:
      - "3141:3141"
    volumes:
      - ./devpi:/devpi
    command: >
      sh -c "
      if [ ! -f /devpi/registry/.serverversion ]; then
        devpi-init --serverdir /devpi/registry;
      fi &&
      devpi-server --host 0.0.0.0 --port 3141 --serverdir /devpi/registry
      "
```

- ì‹¤í–‰

```bash
sudo docker compose -f ./docker-compose.devpi.yml up -d
```

### íŒ¨í‚¤ì§€ ìºì‹± (ì²« ë²ˆì§¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜)

devpi ì„œë²„ëŠ”, **ìì‹ ì„ í†µí•´ ì„¤ì¹˜ ìš”ì²­ì„ ë°›ì€ íŒ¨í‚¤ì§€ë¥¼ ìºì‹±í•˜ì—¬ ë³´ê´€**í•´ë‘”ë‹¤. ê·¸ë¦¬ê³  ì´í›„ë¶€í„°ëŠ” ë™ì¼í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìš”ì²­ì„ ë°›ì„ ë•Œ, ê³µì‹ PyPI ì„œë²„ê°€ ì•„ë‹Œ **ìì‹ ì´ ê°€ì§€ê³  ìˆëŠ” íŒ¨í‚¤ì§€ë¥¼ ì œê³µ**í•œë‹¤.  

ë”°ë¼ì„œ "ì²« ë²ˆì§¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜"ë€, devpi ì„œë²„ê°€ íŠ¹ì • íŒ¨í‚¤ì§€ë¥¼ ì²˜ìŒìœ¼ë¡œ ë°›ì•„ ë‚´ë¶€ì— ìºì‹±í•´ë‘ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.  

ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” íŒ¨í‚¤ì§€ ìºì‹±ì„ ìœ„í•´ devpi-serverë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ë²•ì„ ì†Œê°œí•´ë³¸ë‹¤. (ì•„ë˜ ë„ì‹ì—ì„œ 1ë²ˆ ë‹¨ê³„ì— í•´ë‹¹)  

![](/assets/images/20260122_001_002.png)  

#### devpi ì„œë²„ë¥¼ íŒ¨í‚¤ì§€ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸°  

devpi ì„œë²„ë¥¼ íŒ¨í‚¤ì§€ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ë¥¼ ì°¸ê³ í•œë‹¤.  

- pip install ì‹œ `--index-url` ì˜µì…˜ ë¶€ì—¬

```bash
# ë¬¸ë²•
pip install --index-url http://{HOST}:{PORT}/{user}/{index}/+simple \
íŒ¨í‚¤ì§€1 [íŒ¨í‚¤ì§€2 íŒ¨í‚¤ì§€3 ...]

# ì˜ˆì‹œ
pip install --index-url http://192.168.0.2:3141/root/pypi/+simple \
pandas requests pydantic
```

- pip ì„¤ì •ì˜ `root/pypi` ì¸ë±ìŠ¤ì— ëŒ€í•œ `index-url` ì§€ì •

```bash
# pip ì„¤ì •íŒŒì¼ ìœ„ì¹˜ (POSIX) : $HOME/.pip/pip.conf
# pip ì„¤ì •íŒŒì¼ ìœ„ì¹˜ (Windows) : $HOME/pip/pip.ini

[global]
index-url = http://localhost:3141/root/pypi/+simple/ # ì´ê³³ì„ ë³€ê²½
```

```bash
# ì´í›„ë¶€í„°ëŠ” ê·¸ëƒ¥ pip install
pip install pandas requests pydantic
```

- uv í”„ë¡œì íŠ¸ì—ì„œëŠ” `pyproject.toml` íŒŒì¼ì—ì„œ index-url ì„¤ì •

```python
# pyproject.toml ì— ì•„ë˜ ì¶”ê°€
[tool.uv.pip]
index-url = "http://{HOST}:{PORT}/{user}/{index}"

# ì´í›„ì—” uv pip install ... ë¡œ í•˜ë©´ ëœë‹¤.
```

## í…ŒìŠ¤íŠ¸

> ğŸ¤–Â : devpi ê°€ ì„¤ì¹˜ëœ ì„œë²„  
> ğŸ§‘â€ğŸ’»Â : ì‚¬ìš©ì. devpi ë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìš”ì²­ì„ ë³´ë‚´ëŠ” í´ë¼ì´ì–¸íŠ¸  


- ğŸ¤–Â ìš°ì„  ì„œë²„ì—ì„œ ì¸í„°ë„·ì— ì—°ê²°í•  ìˆ˜ ìˆìŒì„ í™•ì¸í•œë‹¤.

```bash
$ ping 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=116 time=29.5 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=116 time=29.4 ms
64 bytes from 8.8.8.8: icmp_seq=3 ttl=116 time=32.8 ms
...
```

- ğŸ¤–Â devpi-server êµ¬ì¶•

```bash
pip install devpi-server
devpi-init
nohup devpi-server --host 0.0.0.0 --port 3141 &
```

- ğŸ¤–Â íŒ¨í‚¤ì§€ ìºì‹±

```bash
pip install --index-url http://localhost:3141/{user}/{index}/+simple\
pandas requests pydantic
```

- ğŸ¤–Â ì„œë²„ì—ì„œ ì¸í„°ë„·ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²Œì´íŠ¸ì›¨ì´ ë¼ìš°íŠ¸ë¥¼ ì‚­ì œ

```bash
$ sudo ip route del default
```

- ğŸ¤–Â ì¸í„°ë„·ê³¼ ì—°ê²°ì´ ëŠê¹€ì„ í™•ì¸

```bash
$ ping 8.8.8.8
ping: connect: Network is unreachable
```

- ğŸ§‘â€ğŸ’»Â ë…¸íŠ¸ë¶ì—ì„œ devpi ì„œë²„ì— ì„¤ì¹˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìš”ì²­

```bash
% uv pip install requests --index-url http://{HOST}:{PORT}/{user}/{index}/+simple

# ì¶œë ¥ -- ì„±ê³µ!
Resolved 5 packages in 10.55s
Installed 5 packages in 10ms
 + certifi==2026.1.4
 + charset-normalizer==3.4.4
 + idna==3.11
 + requests==2.32.5
 + urllib3==2.6.3
```

- ğŸ§‘â€ğŸ’»Â ë…¸íŠ¸ë¶ì—ì„œ devpi ì„œë²„ì— ì„¤ì¹˜ë˜ì§€ `ì•Šì€` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìš”ì²­

â†’ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì§€ ëª»í•¨

```bash
% uv pip install tensorflow --index-url http://{HOST}:{PORT}/{user}/{index}
  Ã— No solution found when resolving dependencies:
  â•°â”€â–¶ Because tensorflow was not found in the package registry
      and you require tensorflow, we can conclude that your requirements
      are unsatisfiable.
```

- ğŸ¤–Â ì„œë²„ì˜ ì¸í„°ë„· ì—°ê²° ë³µêµ¬ ê·¸ë¦¬ê³  ì¸í„°ë„· ì—°ê²° í…ŒìŠ¤íŠ¸

```bash
$ sudo ip route add default via <ê²Œì´íŠ¸ì›¨ì´ IP>
$ ping 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=116 time=29.4 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=116 time=30.0 ms
...
```

- ğŸ§‘â€ğŸ’»Â ë…¸íŠ¸ë¶ì—ì„œ devpi ì„œë²„ì— ì„¤ì¹˜ë˜ì§€ `ì•Šì€` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìš”ì²­

â†’ ì„¤ì¹˜ ì„±ê³µ

```bash
% uv pip install tensorflow --index-url http://HOST:PORT/root/pypi

Resolved 38 packages in 1m 27s
Prepared 33 packages in 45.95s
Installed 33 packages in 242ms
 + absl-py==2.3.1
 + astunparse==1.6.3
 ...
 + tensorflow==2.20.0
 ...
```


## Reference

https://pypi.org/project/devpi-server/  
https://devpi.net/docs/devpi/devpi/stable/%2Bd/index.html  
[devpi serverë¡œ PyPI mirror ì„œë²„ êµ¬ì¶•](https://velog.io/@yvvyoon/devpi-server-pypi-mirror-server)  