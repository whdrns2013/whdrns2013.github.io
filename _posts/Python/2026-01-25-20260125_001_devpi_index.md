---
title: "[devpi] index ìƒì„±ê³¼ ì„¤ì • ë° ì‚­ì œ" # ì œëª© (í•„ìˆ˜)
excerpt: "íŒŒì´ì¬ íŒ¨í‚¤ì§€ë¥¼ ì €ì¥í•˜ê³  ë°°í¬í•˜ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬" # ì„œë¸Œ íƒ€ì´í‹€ì´ì meta description (í•„ìˆ˜)
date: 2026-01-25 13:27:00 +0900      # ì‘ì„±ì¼ (í•„ìˆ˜)
lastmod: 2026-01-25 13:27:00 +0900   # ìµœì¢… ìˆ˜ì •ì¼ (í•„ìˆ˜)
last_modified_at: 2026-01-25 13:27:00 +0900   # ìµœì¢… ìˆ˜ì •ì¼ (í•„ìˆ˜)
categories: Python       # ë‹¤ìˆ˜ ì¹´í…Œê³ ë¦¬ì— í¬í•¨ ê°€ëŠ¥ (í•„ìˆ˜)
tags: python íŒŒì´ì¬ devpi íŒ¨í‚¤ì§€ ì„œë²„ package server ìºì‹± caching ì¸ë±ìŠ¤ index                      # íƒœê·¸ ë³µìˆ˜ê°œ ê°€ëŠ¥ (í•„ìˆ˜)
classes: wide        # wide : ë„“ì€ ë ˆì´ì•„ì›ƒ / ë¹ˆì¹¸ : ê¸°ë³¸ //// wide ì‹œì—ëŠ” sticky toc ë¶ˆê°€
toc: true        # ëª©ì°¨ í‘œì‹œ ì—¬ë¶€
toc_label:       # toc ì œëª©
toc_sticky: true # ì´ë™í•˜ëŠ” ëª©ì°¨ í‘œì‹œ ì—¬ë¶€ (toc:true í•„ìš”) // wide ì‹œì—ëŠ” sticky toc ë¶ˆê°€
header: 
  image:         # í—¤ë” ì´ë¯¸ì§€ (assetë‚´ í˜¹ì€ url)
  teaser:        # í‹°ì € ì´ë¯¸ì§€??
  overlay_image: /assets/images/banners/banner.gif            # í—¤ë” ì´ë¯¸ì§€ (ì œëª©ê³¼ ê²¹ì¹˜ê²Œ)
  # overlay_color: '#333'            # í—¤ë” ë°°ê²½ìƒ‰ (ì œëª©ê³¼ ê²¹ì¹˜ê²Œ) #333 : ì§™ì€ íšŒìƒ‰ (í•„ìˆ˜)
  video:
    id:                      # ì˜ìƒ ID (URL ë’·ë¶€ë¶„)
    provider:                # youtube, vimeo ë“±
sitemap :                    # êµ¬ê¸€ í¬ë¡¤ë§
  changefreq : daily         # êµ¬ê¸€ í¬ë¡¤ë§
  priority : 1.0             # êµ¬ê¸€ í¬ë¡¤ë§
author: # ì£¼ì¸ ì™¸ ì‘ì„±ì í‘œê¸° í•„ìš”ì‹œ
permalink: 
sidebar:
  nav: docs_python
pinned: 
---
<!--postNo: 20250125_001-->

## devpi-server ì— index ìƒì„±

### ì‚¬ì „ ì¤€ë¹„

- ì´ì „ í¬ìŠ¤íŒ…ì„ í†µí•´ devpi-server ë¥¼ ë„ì›Œë†“ëŠ”ë‹¤.
- `devpi-server`, `devpi-web`, `devpi-client` íŒ¨í‚¤ì§€ë“¤ì„ ë¯¸ë¦¬ ì„¤ì¹˜í•œë‹¤.
- ì°¸ê³  : [https://whdrns2013.github.io/python/20260122_001_devpi/](https://whdrns2013.github.io/python/20260122_001_devpi/)

### ì‚¬ì „ì§€ì‹ - ì¸ë±ìŠ¤(index)

- ì•ìœ¼ë¡œ devpi, ê·¸ë¦¬ê³  PyPI ì„œë²„ì— ëŒ€í•´ ì•Œì•„ê°€ë‹¤ë³´ë©´ **ì¸ë±ìŠ¤(index)**ë¼ëŠ” ìš©ì–´ê°€ ìì£¼ ë“±ì¥í•œë‹¤.
- ì¸ë±ìŠ¤ë€, â€íŒ¨í‚¤ì§€ë¥¼ ë‹´ëŠ” ë…¼ë¦¬ì ì¸ ì €ì¥ì†Œ ë‹¨ìœ„â€ë¡œ, íŒŒì´ì¬ íŒ¨í‚¤ì§€ì™€ ë²„ì „ì„ ê·¸ë£¹ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê³µê°„ì„ ëœ»í•œë‹¤.
- íŒ¨í‚¤ì§€ë¥¼ ì €ì¥í•˜ê³  ë°°í¬í•˜ëŠ” ë…¼ë¦¬ì ì¸ ì±„ë„(channel)ì´ì ì €ì¥ì†Œ(storage)ì´ê³ 
- íŒ¨í‚¤ì§€ë¥¼ íŒ¨í‚¤ì§€ì˜ ì´ë¦„ê³¼ ë¦´ë¦¬ì¦ˆ(ë²„ì „) ë° ëª©ì ê³¼ ì •ì±… ë“±ìœ¼ë¡œ ë¶„ë¦¬ ê´€ë¦¬í•˜ê¸° ìœ„í•œ êµ¬ì¡°ì´ë©°
- íŒ¨í‚¤ì§€ì˜ ì‹¤ì œ ë™ì‘ì„ ì¼ìœ¼í‚¤ëŠ” **ì†ŒìŠ¤ ë° ì„¤ì¹˜ íŒŒì¼, ê·¸ë¦¬ê³  íŒ¨í‚¤ì§€ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ê°€ ì €ì¥**ëœë‹¤.
- ì–´ë–¤ ì¸ë±ìŠ¤ëŠ” ìì‹ ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
- ê°œì¸ì ìœ¼ë¡œëŠ” **íŒ¨í‚¤ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬(package registry) ë¼ê³  í‘œí˜„**í•˜ë©´ ê°€ì¥ ì •í™•í•œ í‘œí˜„ì´ ì•„ë‹ê¹Œ ìƒê°ì´ ëœë‹¤.

### index ìƒì„± ì‘ì—… ìˆœì„œ

- (1) devpi-client ê°€ server ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì„¤ì •
- (2) devpi-server ë¡œê·¸ì¸ â†’ ì¸ë±ìŠ¤ ìƒì„±

### ìƒì„± ë°©ë²•

> ğŸ¤–Â : devpi ê°€ ì„¤ì¹˜ëœ ì„œë²„  
ğŸ§‘â€ğŸ’»Â : ì‚¬ìš©ì. devpi ë¡œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìš”ì²­ì„ ë³´ë‚´ëŠ” í´ë¼ì´ì–¸íŠ¸  
ì´ë²ˆ í¬ìŠ¤íŒ…ì€ ì–´ëŠ ê³³ì—ì„œ í•´ë„ ìƒê´€ ì—†ìŠµë‹ˆë‹¤!
> 

- devpi í´ë¼ì´ì–¸íŠ¸ê°€ devpi-server ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ê¸°

```bash
devpi use http://{HOST}:{PORT}
```

```bash
# ì¶œë ¥
using server: http://{HOST}:{PORT}/ (not logged in)
no current index: type 'devpi use -l' to discover indices
/root/.config/pip/pip.conf: no config file exists
/root/.config/uv/uv.toml: no config file exists
/root/.pydistutils.cfg: no config file exists
/root/.buildout/default.cfg: no config file exists
always-set-cfg: no
```

<br>

- ì‹ ê·œ ì‚¬ìš©ì ì¶”ê°€

> ì•ìœ¼ë¡œ ì‚¬ìš©í•  ì„ì˜ì˜ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì§€ì •  

```bash
devpi user -c {user_name} password={password}
```

```bash
# ì¶œë ¥
user created: {user_name}
```

<br>

- ì‚¬ìš©ì ë¡œê·¸ì¸

> ìƒì„±í•œ ì‚¬ìš©ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸  

```bash
devpi login {new_user_name} --password={password}
```

```bash
# ì¶œë ¥
logged in '{new_user_name}', credentials valid for 10.00 hours
```

<br>

- ì¸ë±ìŠ¤ ìƒì„±

```bash
devpi index -c {new_index_name} bases={base_user}/{base_index}

# -c : create. ìƒˆë¡œìš´ ì¸ë±ìŠ¤ ìƒì„±
# bases : ì°¸ì¡°í•  ìƒìœ„ ì¸ë±ìŠ¤
```

```bash
# ì¶œë ¥
http://{HOST}:{PORT}/{new_user_name}/{new_index_name}?no_projects=:
  type=stage
  bases={base_user}/{base_index}
  volatile=True
  acl_upload={new_user_name}
  acl_toxresult_upload=:ANONYMOUS:
  mirror_whitelist=
  mirror_whitelist_inheritance=intersection
```

<br>

- ìƒˆë¡œ ìƒì„±í•œ ì¸ë±ìŠ¤ ì‚¬ìš©

```bash
devpi use {new_user_name}/{new_index_name}
```

```bash
# ì¶œë ¥
current devpi index: http://{HOST}:{PORT}/{new_user_name}/{new_index_name} (logged in as {new_user_name})
supported features: push-no-docs, push-only-docs, push-register-project, server-keyvalue-parsing
/root/.config/pip/pip.conf: no config file exists
/root/.config/uv/uv.toml: no config file exists
/root/.pydistutils.cfg: no config file exists
/root/.buildout/default.cfg: no config file exists
always-set-cfg: no

```

<br>

### ì¸ë±ìŠ¤ ìƒì„± ê²°ê³¼ í™•ì¸

- ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ `http:{HOST}:{PORT}` ë¡œ ì ‘ì†í•˜ë©´ ì‹ ê·œ ìœ ì €ì˜ ì¸ë±ìŠ¤ê°€ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

![](/assets/images/20260125_001_001.png)  

<br>

- devpi cli ì—ì„œëŠ” `devpi use -l` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ë±ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```bash
devpi use -l
```

```bash
# ì¶œë ¥
root/pypi       bases=                volatile=False
tester/tester_index bases=root/pypi       volatile=True
```

## ì¸ë±ìŠ¤ ì„¤ì •

### ì¸ë±ìŠ¤ ì„¤ì •ê°’

- ì•ì„œì„œ ì¸ë±ìŠ¤ë¥¼ ìƒˆë¡œì´ ìƒì„±í–ˆì„ ë•Œ ì¶œë ¥ëœ ë‚´ìš©ì—ì„œ ì¸ë±ìŠ¤ì˜ ì„¤ì •ê°’ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```bash
# ì¶œë ¥
http://{HOST}:{PORT}/{new_user_name}/{new_index_name}?no_projects=:
  type=stage
  bases={base_user}/{base_index}
  volatile=True
  acl_upload={new_user_name}
  acl_toxresult_upload=:ANONYMOUS:
  mirror_whitelist=
  mirror_whitelist_inheritance=intersection
```

<br>

| ì„¤ì • í•­ëª© | ì„¤ëª… | ê°’ |
| --- | --- | --- |
| type | - ì¸ë±ìŠ¤ì˜ ì¢…ë¥˜ | - `stage` : ì¼ë°˜ ì‚¬ìš©ì ì¸ë±ìŠ¤. ì—…ë¡œë“œ, ì„¤ì¹˜, base ìƒì†ì´ ê°€ëŠ¥<br>- `mirror` :  PyPI ë¯¸ëŸ¬ |
| bases | - ì´ ì¸ë±ìŠ¤ê°€ ìƒì†í•˜ëŠ” ìƒìœ„(base) ì¸ë±ìŠ¤<br>- í˜„ì¬ ì¸ë±ìŠ¤ì— ì—†ëŠ” íŒ¨í‚¤ì§€ëŠ” ì´ base ì¸ë±ìŠ¤ì—ì„œ ê²€ìƒ‰ëœë‹¤. | - `{base_user}/{base_index}`<br>- ì˜ˆ) `root/pypi` |
| volatile | - íŒ¨í‚¤ì§€ë¥¼ ì¬ì—…ë¡œë“œ(ë®ì–´ì“°ê¸°)í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€<br>- ê°œë°œìš© ì¸ë±ìŠ¤ì—ì„œëŠ” ë³´í†µ True<br>- ì§ì—­í•˜ë©´ íœ˜ë°œì„± | - `True` : ì¬ì—…ë¡œë“œ(ë®ì–´ì“°ê¸°) í—ˆìš©<br>- `False` : í•œ ë²ˆ ì—…ë¡œë“œëœ ë²„ì „ì€ ë³€ê²½ ë¶ˆê°€ |
| acl_upload | - ì´ ì¸ë±ìŠ¤ì— íŒ¨í‚¤ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ëª©ë¡ | - `:ANONYMOUS:` : ë¹„ì¸ì¦ ì‚¬ìš©ìë„ í—ˆìš©í•¨<br>- í˜¹ì€ íŠ¹ì • ìœ ì € ì§€ì • |
| acl_toxresult_upload | - tox í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” ì£¼ì²´ ëª©ë¡ | - `:ANONYMOUS:` : ë¹„ì¸ì¦ ì‚¬ìš©ìë„ í—ˆìš©í•¨<br>- í˜¹ì€ íŠ¹ì • ìœ ì € ì§€ì • |
| mirror_whitelist | - mirror/base ì¸ë±ìŠ¤ì—ì„œ í—ˆìš©í•  íŒ¨í‚¤ì§€ ì´ë¦„ ëª©ë¡<br>- ë¹„ì–´ ìˆìœ¼ë©´ ì œí•œì„ ë‘ì§€ ì•ŠëŠ”ë‹¤. | - requests, numpy .. ë“± íŒ¨í‚¤ì§€ |
| mirror_whitelist_inheritance | - `bases`ê°€ ì—¬ëŸ¬ ê°œì¼ ë•Œ whitelistë¥¼ ì–´ë–»ê²Œ ìƒì†/ê²°í•©í• ì§€ ê²°ì • | - `intersection` : ëª¨ë“  basesì˜ whitelist êµì§‘í•©ë§Œ í—ˆìš©<br>- `union` : ëª¨ë“  bases ì˜ whitelist í—ˆìš© |

### ì¸ë±ìŠ¤ ìƒì„±ì‹œì— ì„¤ì •ê°’ ë¶€ì—¬

- ì•„ë˜ì™€ ê°™ì´ ìƒì„±ê³¼ ë™ì‹œì— ì„¤ì •ê°’ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.

```bash
devpi index -c dev \
  bases=root/pypi \
  volatile=True \
  acl_upload=dev1,dev2 \
  mirror_whitelist=requests,numpy \
  mirror_whitelist_inheritance=intersection
```

### ì¸ë±ìŠ¤ ì„¤ì •ê°’ í™•ì¸

- `devpi getjson` ìœ¼ë¡œ ì¸ë±ìŠ¤ì˜ ì„¤ì •ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```bash
devpi getjson /{user_name}/{index_name}
```

```bash
# ì¶œë ¥
{
    "result": {
        "acl_toxresult_upload": [
            ":ANONYMOUS:"
        ],
        "acl_upload": [
            "{user_name}"
        ],
        "bases": [
            "root/pypi"
        ],
        "mirror_whitelist": [],
        "mirror_whitelist_inheritance": "intersection",
        "projects": [],
        "type": "stage",
        "volatile": true
    },
    "type": "indexconfig"
}
```

### ì¸ë±ìŠ¤ ì„¤ì •ê°’ ìˆ˜ì •

- `devpi index` ëª…ë ¹ì–´ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

```bash
devpi index /{user_name}/{index_name} ì„¤ì •í•­ëª©1=ì„¤ì •ê°’1 [ì„¤ì •í•™ëª©2=ì„¤ì •ê°’2 ...]
```

```bash
 # ì˜ˆì‹œ
 devpi index /tester/tester_index volatile=False acl_upload=:ANONYMOUS:
```

```json
// ì„¤ì •ê°’ í™•ì¸
{
    "result": {
        "acl_toxresult_upload": [
            ":ANONYMOUS:"
        ],
        "acl_upload": [
            ":ANONYMOUS:" // ë³€ê²½ë¨
        ],
        "bases": [
            "root/pypi"
        ],
        "mirror_whitelist": [],
        "mirror_whitelist_inheritance": "intersection",
        "projects": [],
        "type": "stage",
        "volatile": false // ë³€ê²½ë¨
    },
    "type": "indexconfig"
}

```

## ì¸ë±ìŠ¤ ì‚­ì œ

- `devpi index --delete` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•œë‹¤.

```json
devpi index -y --delete /{user_name}/{index_name}
```

```json
index deleted: http://{HOST}:{PORT}/{user_name}/{index_name}
```

## Reference

[devpi-quickstart-releaseprocess](https://devpi.net/docs/devpi/devpi/stable/+d/quickstart-releaseprocess.html)  
[devpi-devpi_indices](https://devpi.net/docs/devpi/devpi/stable/+d/userman/devpi_indices.html)  