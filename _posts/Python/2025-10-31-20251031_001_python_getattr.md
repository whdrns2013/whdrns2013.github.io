---
title: "[Python] getattr 클래스의 필드와 메서드를 동적으로 가져오기" # 제목 (필수)
excerpt: "(건방지게) 문자열로 클래스 메서드를 호출하는 방법" # 서브 타이틀이자 meta description (필수)
date: 2025-10-31 12:58:00 +0900      # 작성일 (필수)
lastmod: 2025-10-31 12:58:00 +0900   # 최종 수정일 (필수)
last_modified_at: 2025-10-31 12:58:00 +0900   # 최종 수정일 (필수)
categories: Python         # 다수 카테고리에 포함 가능 (필수)
tags: python getattr 클래스 속성 메서드 동적 호출 문자열 class attribute attributes method dynamic call string                     # 태그 복수개 가능 (필수)
classes: wide        # wide : 넓은 레이아웃 / 빈칸 : 기본 //// wide 시에는 sticky toc 불가
toc: true        # 목차 표시 여부
toc_label:       # toc 제목
toc_sticky: true # 이동하는 목차 표시 여부 (toc:true 필요) // wide 시에는 sticky toc 불가
header: 
  image:         # 헤더 이미지 (asset내 혹은 url)
  teaser:        # 티저 이미지??
  overlay_image: /assets/images/banners/banner.gif            # 헤더 이미지 (제목과 겹치게)
  # overlay_color: '#333'            # 헤더 배경색 (제목과 겹치게) #333 : 짙은 회색 (필수)
  video:
    id:                      # 영상 ID (URL 뒷부분)
    provider:                # youtube, vimeo 등
sitemap :                    # 구글 크롤링
  changefreq : daily         # 구글 크롤링
  priority : 1.0             # 구글 크롤링
author: # 주인 외 작성자 표기 필요시
---
<!--postNo: 20251031_001-->

## Intro  

이 글에서는 어떤 클래스의 attribute(필드나 메서드)를 그 클래스 바깥에서, "문자열" 만으로 쉽게 호출해오는 방법을 소개하겠습니다.  

> 이 글은 임커밋님의 유튜브 영상 **[약간 건방?져보이는 함수](https://www.youtube.com/watch?v=3_oXQaMdZ-w)** 를 참고하였습니다.  

## getattr  

- getattr 은 어떤 클래스(혹은 인스턴스)의 attribute(필드나 메서드)를 가져오는 함수입니다.  
- 예를 들면 아래와 같습니다.  

```python
class DummyClass:    
    def __init__(self):
        self.description = "이 클래스는 간단한 사칙연산을 담당합니다."
    def add(self, a:int, b:int): return a + b
    def sub(self, a:int, b:int): return a - b
    def mul(self, a:int, b:int): return a * b
    def div(self, a:int, b:int): return a / b

# 필드에 접근
dc = DummyClass()
description = getattr(dc, "description")
print(description)

# 메서드에 접근
add_ex = getattr(dc, "add")
print(add_ex(10, 1))
```

```bash
# 출력
이 클래스는 간단한 사칙연산을 담당합니다.
11
```

## 응용  

### (1) 단일 로직으로 클래스의 함수를 동적으로 불러오기  

- getattr은 문자열로 클래스의 속성을 가져올 수 있습니다.  
- 이 기능을 응용해서 짧은 코드로, 클래스의 함수를 동적으로 불러오는 코드를 작성해보겠습니다.  

```python
def dynamic_dummy_func(method:str, a:int, b:int):
    dc = DummyClass()
    func = getattr(dc, method)
    return func(a, b)

# 함수 외부에서 각 method별 계산 수행
print(dynamic_dummy_func("add", 10, 1))
print(dynamic_dummy_func("sub", 10, 1))
print(dynamic_dummy_func("mul", 10, 1))
print(dynamic_dummy_func("div", 10, 1))
```

```bash
# 출력
11
9
10
10.0
```

### (2) 변수에 넣지 않고 바로 함수로 사용할 수 있음  

```python
dc = DummyClass()
print(getattr(dc, "add")(10, 2))
```

```bash
# 출력
12
```

### (3) 정적 타입 힌트를 통해 접근할 수 있는 속성을 제한하면 좋다.  

```python
Attrs = [attr for attr in dir(DummyClass) if not attr.startswith("_")]

def func(method, a, b):
    if method in Attrs: # method에 대한 검증을 위함
        dc = DummyClass()
        print(getattr(dc, method)(a, b))
    else:
        print(f"Invalid method: {method}")

func("wrong method", 1, 2)
```

```bash
# 출력
Invalid method: wrong method
```

### (4) 응용  

- requests에 응용할 수 있다.  
- requests는 HTTP 요청을 보내고 응답을 받아오는 라이브러리인데, 이 요청의 method는 get, post 등 여러 가지가 있다.  
- 이를 아래와 같이 통일되게 사용할 수 있다.  

```python
# 기존의 requests 사용법
import requests
response = requests.get(url)
response = requests.post(url, json=body)

# getattr을 이용하기
response = getattr(requests, "get")(url)
response = getattr(requests, "post")(url, json=body)

# --> 기존의 requests 에서는 HTTP 통신 방법(get, post...)이 바뀌면 사용하는 함수를 바꿔야 했음
# --> getattr을 이용하면 동일한 로직(함수)를 쓰면서, 함수에 사용되는 인자들만 바꿔주면 됨
```

## 기타  

- 비슷하게 Java에는 reflection 이 있다.

```java
import java.lang.reflect.*;

class Dummy {
    public int value = 10;
    public int add(int a, int b) {
        return a + b;
    }
}

public class ReflectionExample {
    public static void main(String[] args) throws Exception {
        Dummy d = new Dummy();

        // (1) 필드 접근
        Field field = d.getClass().getField("value");
        System.out.println(field.get(d));  // -> 10

        // (2) 메서드 호출
        Method method = d.getClass().getMethod("add", int.class, int.class);
        Object result = method.invoke(d, 3, 5);
        System.out.println(result);        // -> 8
    }
}
```

## Reference  

[임커밋 - 약간 건방?져보이는 함수](https://www.youtube.com/watch?v=3_oXQaMdZ-w)