---
title: "[홈서버] 리눅스 가상화 플랫폼 만들기 - 2.Cockpit에서 가상 머신(VM) 만들기" # 제목 (필수)
excerpt: "Cockpit에서 가상 머신(VM)을 만들어보자"  # 서브 타이틀이자 meta description (필수)
date: 2026-02-09 00:08:00 +0900      # 작성일 (필수)
lastmod: 2026-02-09 00:08:00 +0900   # 최종 수정일 (필수)
last_modified_at: 2026-02-09 00:08:00 +0900   # 최종 수정일 (필수)
categories: Infra         # 다수 카테고리에 포함 가능 (필수)
tags: infra 인프라 홈서버 homeserver 가상화 가상머신 virtualization virtual machine vm                    # 태그 복수개 가능 (필수)
classes: wide        # wide : 넓은 레이아웃 / 빈칸 : 기본 //// wide 시에는 sticky toc 불가
toc: true        # 목차 표시 여부
toc_label:       # toc 제목
toc_sticky: true # 이동하는 목차 표시 여부 (toc:true 필요) // wide 시에는 sticky toc 불가
header: 
  image:         # 헤더 이미지 (asset내 혹은 url)
  teaser:        # 티저 이미지??
  overlay_image: /assets/images/banners/banner.gif            # 헤더 이미지 (제목과 겹치게)
  # overlay_color: '#333'            # 헤더 배경색 (제목과 겹치게) #333 : 짙은 회색 (필수)
  video:
    id:                      # 영상 ID (URL 뒷부분)
    provider:                # youtube, vimeo 등
sitemap :                    # 구글 크롤링
  changefreq : daily         # 구글 크롤링
  priority : 1.0             # 구글 크롤링
author: # 주인 외 작성자 표기 필요시
permalink: 
sidebar:
  nav: docs_homeserver
pinned: 
---
<!--postNo: 20260209_001-->

## Cockpit 에서 가상 머신(VM) 만들기  

### Cockpit 로그인과 관리자 설정

- Cockpit에 접속합니다. 기본 포트는 9090

```bash
https://서버IP:9090
```

- 로그인 : 리눅스 OS 의 계정과 동일

![](/assets/images/20260209_001_001.png)  

- 로그인 후 보이는 대시보드

![](/assets/images/20260209_001_002.png)  

- 관리자 권한 획득

![](/assets/images/20260209_001_003.png)  

![](/assets/images/20260209_001_004.png)  

### 가상화 장비(VM) 메뉴 확인

- Cockpit 좌측에 **가상화 장비(VM)** 메뉴가 보입니다. 이 메뉴에서 VM의 생성, 삭제, 저장, 관리가 가능합니다.

![](/assets/images/20260209_001_005.png)  

### 저장소 풀 만들기

#### 저장소 풀이란?  

- 저장소 풀(Storage Pool)
- **VM 디스크 이미지들이 모여 있는 ‘관리되는 디렉터리(또는 장치 묶음)’입니다.**
- Proxmox의 *스토리지*와 같은 개념입니다.
- 즉, 저장소 풀 = “VM 디스크를 어디에, 어떤 방식으로 저장할지 정해 둔 공간”

#### 저장소 풀을 사용하는 이유  

- VM 디스크 위치를 일관되게 관리할 수 있다.  
- 생성/삭제 시 자동으로 정리된다.  
- 파일·LVM·디스크 등 저장 방식을 통일할수 있다.  
- 풀 없이도 VM은 만들 수는 있지만 매우 불편하여, 관리 관점에서는 풀을 쓰는 게 정석입니다.  

#### 저장소 풀 생성  

- 먼저, 리눅스에서 저장소 풀을 저장할 디렉터리 하나를 만들어줍니다.  
- 저는 /data/vm_storage_pool 이라는 디렉터리를 호스트에 만들었습니다.  

```bash
sudo mkdir -p /data/vm_storage_pool
```

- Cockpit 에서 가상화 장비(VM) → 저장소 풀을 선택합니다.

![](/assets/images/20260209_001_006.png)  

- 저장소 풀 메뉴에서 우측 **저장소 풀 만들기**를 클릭합니다.

![](/assets/images/20260209_001_007.png)  

- 만들 저장소 풀에 대한 설정입니다. 특별히 원하는 옵션이 없다면, 유형은 **파일 시스템 디렉토리**를 선택하면 됩니다.
- 대상 경로는 앞서 만들어둔 리눅스의 저장소 풀 디렉토리를 지정해줍니다.

![](/assets/images/20260209_001_008.png)  

- 생성한 뒤, 저장소 풀 리스트에 새로운 항목이 생성된 것을 볼 수 있습니다.
- 이를 사용하기 위해서 **활성화** 버튼을 눌러보겠습니다.

![](/assets/images/20260209_001_009.png)  

- 활성화 후에는 상태가 `활성` 으로 바뀌었으며, 크기가 변경된 것도 볼 수 있습니다.

![](/assets/images/20260209_001_010.png)  

### 저장소 볼륨 생성

#### 저장소 볼륨이란?  

- 저장소 볼륨은, 하나의 VM에 할당할, 그 VM 만의 저장 공간 영역을 뜻합니다.
- **저장소 풀(Storage Pool)이 “폴더/공간”이라면, 저장소 볼륨(Storage Volume)은 “VM 하나의 가상 디스크 파일”입니다.**
- 저장소 풀과 저장소 볼륨의 관계는, 아래 도식과 같습니다.

```bash
[저장소 풀]
  ├─ 저장소 볼륨 (vm1.qcow2)
  ├─ 저장소 볼륨 (vm2.qcow2)
  └─ 저장소 볼륨 (vpn-vm.qcow2)
```

#### 저장소 볼륨 만들기  

- 앞서 만든 저장소 풀의 왼쪽에 위치한 화살표를 누르면, 저장소 볼륨에 대한 탭이 나타납니다.  
- 여기에서 **볼륨 만들기** 버튼을 클릭합니다.  

![](/assets/images/20260209_001_011.png)  

- 만들 저장소 볼륨에 대해 설정을 해줍니다. 이번엔 VPN 용 VM이므로 이름은 vpn, 용량 비교적 작게 10GB를 할당했습니다.

![](/assets/images/20260209_001_012.png)  

### ISO 업로드

#### ISO  

- ISO란 디스크 이미지 형식 중에 하나로, CD/DVD와 같은 **설치 미디어를 하나의 파일로 묶어 놓은 것**입니다.

#### ISO 저장소 풀 만들기  

- ISO 파일을 업로드할 수 있는 저장소 풀을 만들어줍니다.
- ISO 이미지를 Cockpit에서 선택하기 위해서, ISO 파일용 저장소 풀을 만드는 걸 권장합니다.
- 먼저 ISO 저장소 풀을 저장할 디렉터리를 만들어줍니다.

```bash
sudo mkdir -p /data/vm_iso_storage
```

- Cockpit 에서 새로운 저장소 풀을 만들어줍니다.

![](/assets/images/20260209_001_013.png)  

![](/assets/images/20260209_001_014.png)  

#### ISO 이미지 다운로드 받기  

- VM으로 설치하고자 하는 ISO 이미지들을 해당 디렉터리 (/data/vm_iso_storage)에 다운로드합니다.

```bash
cd /data/vm_iso_storage
# alpine
sudo wget https://dl-cdn.alpinelinux.org/alpine/v3.23/releases/x86_64/alpine-standard-3.23.2-x86_64.iso
# ubuntu
sudo wget https://releases.ubuntu.com/24.04.3/ubuntu-24.04.3-live-server-amd64.iso
# kali
sudo wget https://cdimage.kali.org/kali-2025.4/kali-linux-2025.4-installer-amd64.iso
```

### VM 만들기

- 드디어 가상 머신(VM)을 만들어볼 차례입니다.
- 다운로드한 alpine 이미지를 통해 VM 을 만들어보겠습니다.
- Cockpit의 가상화 머신 메뉴에서 **가상 머신 만들기** 버튼을 클릭합니다.

![](/assets/images/20260209_001_015.png)  

- 알파인 리눅스 자체가 경량이고, VM에서 수행할 작업 또한 무거운 작업이 아니라 메모리는 1GB만 할당합니다.  
- **볼륨 선택** : 볼륨은 앞서 만들어놓은 vpn 볼륨을 선택했습니다.  
- **설치 원천** : 설치 원천은 다운로드한 ISO 이미지 경로를 선택해줍니다.  
- **운영 체제** : 운영 체제는 목록에서 선택합니다. 만약 맞는 게 없다면 “가장 일치하는 것” 을 선택하면 됩니다.

![](/assets/images/20260209_001_016.png)  

- 생성을 누르면 가상 머신 목록에 새로운 VM이 생기며, 조금 기다리면 상태가 작동중으로 바뀝니다.

![](/assets/images/20260209_001_017.png)  

- 가상머신의 이름을 누르면 해당 가상머신의 속성, 설정과 콘솔창을 볼 수 있습니다.
- 오른편에는 콘솔을 볼 수 있으며, 이 콘솔을 통해 VM에 명령어를 실행시킬 수도 있습니다.

![](/assets/images/20260209_001_018.png)  

<details>
<summary> Trouble Shooting - Could not read from CDROM (펼치기/접기) </summary>
<div markdown='1'>

- 앞선 설정들로 재부팅을 했을 때, 아래와 같은 에러 메시지와 함께 부팅이 안되는 경우가 있을 수 있습니다.

```bash
Booting from DVD/CD...
Boot failed: Could not read from CDROM (code 0003)
No bootable device
```

- 이 에러 메시지는 CDROM으로부터 부팅할 이미지를 찾지 못했다는 것입니다.
- (진짜 CDROM은 아니고, 가상 CDROM을 의미)
- 이 경우, VM을 종료한 뒤 설정을 변경해줘야 합니다.
- 먼저 해당 VM 관리 화면에서 VM을 종료해줍니다.
- 다음으로 **디스크 추가**하여 새로이 부팅디스크를 지정합니다.

![](/assets/images/20260209_001_019.png)  

- 아래와 같이 ISO파일의 위치를 지정해주고, 장치는 `CD/DVD 디스크` 를 선택합니다.

![](/assets/images/20260209_001_020.png)  

- 부팅 디스크가 만들어졌다면, 기존의 디스크는 삭제합니다.

![](/assets/images/20260209_001_021.png)  

- 이제 재부팅을 해보면, 정상적으로 부팅이 되는 걸 볼 수 있습니다.

![](/assets/images/20260209_001_022.png)  

</div>
</details>

### 설치 완료 후 부팅 설정

- 설치가 완료되었다면, 부팅 순서를 하드디스크(앞서 선택한 VM용 저장소 볼륨) 우선으로 변경합니다.
- 굳이 설치 ISO 파일이 담긴 디스크 항목을 제거할 필요는 없지만, 혼선 방지를 위해 보통은 제거를 해주는 것 같습니다.

![](/assets/images/20260209_001_023.png)  

- 이제 VM을 실행해줍니다.
- 물리 서버를 구동했을 때, 해당 VM도 자동으로 같이 실행되게 하려면 “호스트 부팅 시 실행” 옵션을 활성화 해줍니다.

![](/assets/images/20260209_001_024.png)  

- VM을 실행해주면 오른편 콘솔에 부팅 메시지들을 볼 수 있습니다.
- 최종적으로 로그인 라인이 보인다면, 정상적으로 VM이 부팅된 것입니다.

![](/assets/images/20260209_001_025.png)  
